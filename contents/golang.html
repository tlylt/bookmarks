<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 5.1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1"><title>tlylt - Golang</title><link rel="stylesheet" href="/bookmarks/markbind/css/bootstrap.min.css">
    <link rel="stylesheet" href="/bookmarks/markbind/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="/bookmarks/markbind/glyphicons/css/bootstrap-glyphicons.min.css">
    <link rel="stylesheet" href="/bookmarks/markbind/css/octicons.css">
    <link rel="stylesheet" href="/bookmarks/markbind/material-icons/material-icons.css">
    <link rel="stylesheet" href="/bookmarks/markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="/bookmarks/markbind/css/markbind.min.css"><script src="/bookmarks/markbind/js/polyfill.min.js"></script>
    <script src="/bookmarks/markbind/js/vue.min.js"></script>
    <script src="/bookmarks/markbind/js/markbind.min.js"></script>
    <script src="golang.page-vue-render.js"></script><link rel="stylesheet" href="/bookmarks/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/bookmarks/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/bookmarks/stylesheets/main.css">
<link rel="icon" href="/bookmarks/favicon.ico"></head>
<script>
  const baseUrl = '/bookmarks'
</script>
<body  data-bs-spy="scroll" data-bs-target="#mb-page-nav" data-bs-offset="100" >
<div id="app" data-server-rendered="true"><header fixed=""><div data-v-73b4aa16><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-73b4aa16><div class="container-fluid" data-v-73b4aa16><div class="navbar-left" data-v-73b4aa16><a href="/bookmarks/index.html" title="Home" class="navbar-brand" data-v-73b4aa16>Bookmarks</a></div> <div class="navbar-default" data-v-73b4aa16><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-73b4aa16> <li data-v-73b4aa16><a href="https://github.com/tlylt/bookmarks" target="_blank" class="nav-link" data-v-73b4aa16><span data-v-73b4aa16><span aria-hidden="true" class="fab fa-github" data-v-73b4aa16></span></span></a></li></ul></div> <ul class="navbar-nav navbar-right" data-v-73b4aa16><li data-v-73b4aa16><form class="navbar-form" data-v-73b4aa16><div class="dropdown" style="position:relative;" data-v-01e11c9b><input data-bs-toggle="dropdown" type="text" placeholder="Search" autocomplete="off" value="" class="form-control" data-v-01e11c9b> <div class="form-control placeholder-div-hidden" data-v-01e11c9b>
      Search
    </div> <ul class="dropdown-menu search-dropdown-menu d-none dropdown-menu-end" data-v-01e11c9b></ul></div></form></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-73b4aa16><!----> <!----></div></div></header> <div id="flex-body"><nav id="site-nav" class="fixed-header-padding" data-v-e6005420><div class="site-nav-top" data-v-e6005420><div class="font-weight-bold mb-2" style="font-size:1.25rem;" data-v-e6005420>All Things Tech Related</div></div> <div class="nav-component slim-scroll" data-v-e6005420><div class="site-nav-root"><ul class="site-nav-list site-nav-list-root" data-v-e6005420><li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/index.html" data-v-e6005420>Home üè†</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/productivity.html" data-v-e6005420>Productivity ‚åöÔ∏è</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/patterns.html" data-v-e6005420>Patterns üíª</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/golang.html" data-v-e6005420>Golang</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/python.html" data-v-e6005420>Python</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/interview.html" data-v-e6005420>Interview Questions</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/interviewing.html" data-v-e6005420>Interview Notes</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/review.html" data-v-e6005420>Code Review</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/conversational.html" data-v-e6005420>Conversational Agent</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/research.html" data-v-e6005420>Research Notes</a></div></li> <li data-v-e6005420><div onclick="handleSiteNavClick(this)" class="site-nav-default-list-item site-nav-list-item-0" data-v-e6005420><a href="/bookmarks/contents/speak.html" data-v-e6005420>Speaking Notes</a></div></li> <!----></ul></div></div> <!----></nav> <div id="content-wrapper" class="fixed-header-padding"><h1 id="motivation">Motivation<a href="#motivation" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>Here's my notes on the Go programming language!</p> <h2 id="pass-by-value">Pass by Value<a href="#pass-by-value" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <div class="table-responsive"><table class="markbind-table table table-bordered table-striped"><thead><tr><th>Value Type <br> (use a pointer if needs to modify)</th> <th>Reference Type <br> (can be modified directly)</th></tr></thead> <tbody><tr><td>int</td> <td>slice</td></tr> <tr><td>float</td> <td>map</td></tr> <tr><td>string</td> <td>channel</td></tr> <tr><td>bool</td> <td>pointer</td></tr> <tr><td>struct</td> <td>function</td></tr></tbody></table></div><h2 id="array-vs-slice">Array vs Slice<a href="#array-vs-slice" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <div class="table-responsive"><table class="markbind-table table table-bordered table-striped"><thead><tr><th>Array</th> <th>Slide</th></tr></thead> <tbody><tr><td>the length is part of the type</td> <td>dynamically sized</td></tr> <tr><td>use a pointer if needs to modify</td> <td>can be passed in directly</td></tr> <tr><td>use if size is known</td> <td>use if need to modify</td></tr> <tr><td><code class="hljs inline no-lang">arr := [4]int{3, 2, 5, 4}</code></td> <td><code class="hljs inline no-lang">arr := make([]int, 0, 5)</code> <br> <code class="hljs inline no-lang">// This creates a slice with length 0 and capacity 5</code> <br> recommended to specify capacity if known</td></tr></tbody></table></div><h2 id="type-assertion-vs-type-conversion">Type Assertion vs Type Conversion<a href="#type-assertion-vs-type-conversion" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Assertion is used when you know that a loose type can be used as a specified type (to access the methods on that type)</p> <pre><code class="hljs go"><span><span class="hljs-keyword">var</span> text <span class="hljs-keyword">interface</span>{} = <span class="hljs-string">&quot;hello world&quot;</span>
</span><span>textStr, ok := text.(<span class="hljs-keyword">string</span>) <span class="hljs-comment">// not ok if text is not a string</span>
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><p>Conversion is used when two types are actually equivalent behind the scenes (e.g. simple int and float64, or a struct that contains the same attributes)</p> <pre><code class="hljs go"><span><span class="hljs-keyword">type</span> Mac <span class="hljs-keyword">struct</span> {
</span><span>    CPU <span class="hljs-keyword">string</span>
</span><span>    RAM <span class="hljs-keyword">string</span>
</span><span>}
</span><span>
</span><span><span class="hljs-keyword">type</span> Windows <span class="hljs-keyword">struct</span> {
</span><span>    CPU <span class="hljs-keyword">string</span>
</span><span>    RAM <span class="hljs-keyword">string</span>
</span><span>}
</span><span>
</span><span><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
</span><span>    mac := Mac{CPU: <span class="hljs-string">&quot;i7&quot;</span>, RAM: <span class="hljs-string">&quot;16GB&quot;</span>}
</span><span>    windows := Windows(mac)
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><h2 id="naming-things">Naming things<a href="#naming-things" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <h3 id="goals">Goals<a href="#goals" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ul><li>Consistent (easy to guess)</li> <li>Short (easy to type)</li> <li>Accurate (easy to understand)</li></ul> <h3 id="guidelines">Guidelines<a href="#guidelines" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ul><li>Use MixedCase</li> <li>Acronyms should be in all caps (serveHTTP and not serveHttp)</li> <li>Short local variable</li> <li>Avoid redundant names given their context</li></ul> <h4 id="map">Map<a href="#map" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <ul><li><code class="hljs inline no-lang">v, ok := m[k]</code></li></ul> <h4 id="parameters">Parameters<a href="#parameters" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <ul><li>When the types are descriptive, they should be short</li> <li>When the types are ambiguous, they should be longer</li></ul> <h4 id="return-values">Return Values<a href="#return-values" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <ul><li>exported functions use named return values for documentaion</li></ul> <h4 id="receivers">Receivers<a href="#receivers" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <ul><li>Short and consistent</li></ul> <h4 id="exported-package-level-names">Exported Package-level Names<a href="#exported-package-level-names" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <ul><li>Qualified by the package names (they will always be referenced with the package, so don't repeat yourself)</li></ul> <h4 id="errors">Errors<a href="#errors" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <ul><li>In the form of <code class="hljs inline no-lang">FooError</code></li></ul> <h4 id="packages">Packages<a href="#packages" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h4> <ul><li>Avoid <code class="hljs inline no-lang">util</code>, <code class="hljs inline no-lang">common</code></li> <li>Should describe what the package exports and not what it contains</li></ul> <h2 id="go-routines">Go Routines<a href="#go-routines" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>There is the main routine and any new go routines that are created. When the go routine experiences a blocking call, it &quot;calls out&quot; to other go routines (or the main routine) to execute while it waits.</p> <p>Main routine is treated slightly differently from child go routines.</p> <ul><li>main routine controls when the program exits, even if there are ongoing child routines</li></ul> <h3 id="channel">Channel<a href="#channel" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Communication between go routines is done through channels. Channel is typed and can be used to send and receive values.</p> <pre><code class="hljs go"><span>c := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>)
</span><span>
</span><span><span class="hljs-keyword">for</span> _, link := <span class="hljs-keyword">range</span> links {
</span><span>    <span class="hljs-keyword">go</span> checkLink(link, c)
</span><span>}
</span><span>
</span><span><span class="hljs-keyword">for</span> l := <span class="hljs-keyword">range</span> c {
</span><span>    <span class="hljs-keyword">go</span> checkLink(l, c)
</span><span>}
</span><span>
</span><span><span class="hljs-comment">// function literal +</span>
</span><span><span class="hljs-comment">// l will be the address of the outer loop due to closure</span>
</span><span><span class="hljs-comment">// but l is reused in the loop</span>
</span><span><span class="hljs-keyword">for</span> l := <span class="hljs-keyword">range</span> c {
</span><span>    <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
</span><span>        time.Sleep(time.Second * <span class="hljs-number">1</span>)
</span><span>        checkLink(l, c)
</span><span>    }()
</span><span>}
</span><span>
</span><span><span class="hljs-keyword">for</span> l := <span class="hljs-keyword">range</span> c {
</span><span>    <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(l <span class="hljs-keyword">string</span>)</span></span> {
</span><span>        time.Sleep(time.Second * <span class="hljs-number">1</span>)
</span><span>        checkLink(l, c)
</span><span>    }(l)
</span><span>}
</span></code><div class="function-btn-container"><button onclick="copyCodeBlock(this)" class="function-btn">
    <div class="function-btn-body">
    
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
      <path d="M 11.273438 0 L 2.546875 0 C 1.746094 0 1.089844 0.613281 1.089844
      1.363281 L 1.089844 10.910156 L 2.546875 10.910156 L 2.546875 1.363281 L 11.273438
      1.363281 Z M 13.453125 2.726562 L 5.453125 2.726562 C 4.65625 2.726562 4 3.339844 4
      4.089844 L 4 13.636719 C 4 14.386719 4.65625 15 5.453125 15 L 13.453125 15 C 14.253906
      15 14.910156 14.386719 14.910156 13.636719 L 14.910156 4.089844 C 14.910156 3.339844
      14.253906 2.726562 13.453125 2.726562 Z M 13.453125 13.636719 L 5.453125 13.636719 L
      5.453125 4.089844 L 13.453125 4.089844 Z M 13.453125 13.636719 "></path>
    </g>
</svg>

    </div>
    </button></div></pre><h3 id="concurrency-is-not-parallelism">Concurrency is not parallelism<a href="#concurrency-is-not-parallelism" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Concurrency - execute multiple tasks at the same time (kind of, if there's more than one core), if one task is blocking, other tasks will be executed. At any one point in time, only one task is executing (for one core).</p> <p>Parallelism - execute multiple tasks at the same time.</p> <h2 id="references">References<a href="#references" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <ul><li><a href="https://www.sohamkamani.com/golang/arrays-vs-slices/">https://www.sohamkamani.com/golang/arrays-vs-slices/</a></li> <li><a href="https://www.infoq.com/presentations/go-patterns/">https://www.infoq.com/presentations/go-patterns/</a></li> <li><a href="https://talks.golang.org/2014/names.slide#1">What's in a name?</a></li></ul></div> <nav id="page-nav" class="fixed-header-padding" data-v-e6005420><div class="nav-component slim-scroll" data-v-e6005420><nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#motivation" data-v-e6005420>Motivation‚Äé</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e6005420><a class="nav-link py-1" href="#pass-by-value" data-v-e6005420>Pass by Value‚Äé</a> <a class="nav-link py-1" href="#array-vs-slice" data-v-e6005420>Array vs Slice‚Äé</a> <a class="nav-link py-1" href="#type-assertion-vs-type-conversion" data-v-e6005420>Type Assertion vs Type Conversion‚Äé</a> <a class="nav-link py-1" href="#naming-things" data-v-e6005420>Naming things‚Äé</a> <a class="nav-link py-1" href="#go-routines" data-v-e6005420>Go Routines‚Äé</a> <a class="nav-link py-1" href="#references" data-v-e6005420>References‚Äé</a></nav> <!----></nav></div> <!----></nav></div> <footer><div class="text-center"><small>[Generated by <a href="https://markbind.org/">MarkBind 5.1.0</a>]</small></div></footer></div>
</body><script src="/bookmarks/markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
    <script>
    function copyCodeBlock(element) {
        const pre = element.parentElement.parentElement;
        const codeElement = pre.querySelector('code');

        // create dummy text element to select() the text field
        const textElement = document.createElement('textarea');
        textElement.value = codeElement.textContent;
        document.body.appendChild(textElement);
        textElement.select();

        document.execCommand('copy');
        document.body.removeChild(textElement);
    }
    </script>
</html>
